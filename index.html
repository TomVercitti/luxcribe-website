<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luxcribe - Custom Laser Engraving</title>
    <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/TomVercitti/luxcribe-website/main/64_White%20Black%20Modern%20Initial%20Logo-Transparent.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <style>
        /* All your existing CSS styles remain here. They have been omitted for brevity but should be kept. */
        html { scroll-behavior: smooth; }
        body { font-family: 'Lato', sans-serif; background-color: #0a0a0a; color: #e0e0e0; line-height: 1.6; overflow-x: hidden; }
        h1, h2, h3, h4 { font-family: 'Playfair Display', serif; }
        .container { max-width: 1200px; margin: 0 auto; padding: 2rem; }
        .btn { padding: 0.75rem 1.5rem; border-radius: 0.5rem; font-weight: 600; transition: all 0.3s ease; text-align: center; cursor: pointer; display: inline-block; }
        .btn-primary { background-color: #6366f1; color: white; }
        .btn-primary:hover { background-color: #4f46e5; transform: translateY(-2px); }
        .page { display: none; animation: fadeIn 0.5s; }
        .page.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        /* Add other existing styles here */
    </style>
</head>
<body>
    <header id="main-header" class="bg-black bg-opacity-50 backdrop-blur-sm shadow-lg py-2 w-full z-50 rounded-b-lg sticky top-0">
        <div class="container flex justify-between items-center">
            <a href="#" class="nav-link" data-page="home"><img src="https://raw.githubusercontent.com/TomVercitti/luxcribe-website/main/64_White%20Black%20Modern%20Initial%20Logo-Transparent.png" alt="Luxcribe Logo" class="h-12 md:h-16 w-auto object-contain"></a>
            <nav class="hidden md:flex">
                <ul class="flex space-x-6 items-center">
                    <li><a href="#" class="font-medium nav-link" data-page="home">Home</a></li>
                    <li><a href="#" class="font-medium nav-link" data-page="shop">Create</a></li>
                    <li><a href="#" class="font-medium nav-link" data-page="contact">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main id="main-content"></main>
    
    <div id="react-root"></div>

    <script type="module">
        // --- PRODUCT CATALOG ---
        // You will manage your list of customizable products here.
        // Add each product with its details, mockup image, and defined engraving zones.
        const productCatalog = {
            'coaster-set': {
                id: 'coaster-set',
                name: 'Wooden Coaster Set',
                description: 'A set of four circular wooden coasters with a matching stand. Perfect for personalizing with a family name or custom logo.',
                basePrice: 25.00,
                shopifyProductId: 'gid://shopify/Product/YOUR_SHOPIFY_PRODUCT_ID_HERE', // Replace with Shopify Product ID
                mockupImage: 'https://i.imgur.com/your-coaster-mockup.png', // Replace with your high-quality mockup image URL
                zones: [
                    { id: 'top', name: 'Coaster Top', x: 250, y: 250, radius: 200 } // Example engraving zone
                ]
            },
            'metal-wallet': {
                id: 'metal-wallet',
                name: 'Minimalist Metal Wallet',
                description: 'A sleek, RFID-blocking metal wallet. Ideal for engraving initials, logos, or intricate designs.',
                basePrice: 40.00,
                shopifyProductId: 'gid://shopify/Product/YOUR_SHOPIFY_PRODUCT_ID_HERE', // Replace with Shopify Product ID
                mockupImage: 'https://i.imgur.com/your-wallet-mockup.png', // Replace with your high-quality mockup image URL
                zones: [
                    { id: 'front', name: 'Front Side', x: 100, y: 50, width: 300, height: 200 },
                    { id: 'back', name: 'Back Side', x: 100, y: 50, width: 300, height: 200 }
                ]
            }
        };

        // --- PAGE TEMPLATES ---
        const mainContent = document.getElementById('main-content');
        const reactRoot = document.getElementById('react-root');

        const renderHomePage = () => ``;
        const renderContactPage = () => ``;

        const renderShopPage = () => {
            const productCards = Object.values(productCatalog).map(product => `
                <div class="card cursor-pointer nav-link" data-page="product" data-productid="${product.id}">
                    <img src="${product.mockupImage}" alt="${product.name}" class="w-full h-64 object-cover">
                    <div class="p-4">
                        <h3 class="text-xl font-bold">${product.name}</h3>
                        <p class="text-gray-400">From $${product.basePrice.toFixed(2)}</p>
                    </div>
                </div>
            `).join('');

            return `
                <div id="shop-page" class="page">
                    <section class="py-20 bg-black">
                        <div class="container">
                            <h2 class="section-title text-4xl md:text-5xl text-center">Choose a Product to Customize</h2>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mt-12">
                                ${productCards}
                            </div>
                        </div>
                    </section>
                </div>
            `;
        };

        const renderProductPage = (productId) => {
            const product = productCatalog[productId];
            if (!product) return `<p>Product not found.</p>`;

            // This page clears the main content and prepares for the React editor to take over
            return `<div id="product-page" class="page"></div>`;
        };

        // --- ROUTING ---
        window.navigateTo = (page, productId = null) => {
            let content = '';
            // Hide the main content and show the React root when navigating to a product page
            if (page === 'product' && productId) {
                mainContent.style.display = 'none';
                reactRoot.style.display = 'block';
                
                // Use a custom event to tell React which product to load
                const event = new CustomEvent('navigateToProduct', { detail: { product: productCatalog[productId] } });
                window.dispatchEvent(event);

            } else {
                // For all other pages, show the main content and hide the React root
                mainContent.style.display = 'block';
                reactRoot.style.display = 'none';
                
                if (page === 'home') content = renderHomePage();
                else if (page === 'shop') content = renderShopPage();
                else if (page === 'contact') content = renderContactPage();
                else content = renderHomePage(); // Fallback
                
                mainContent.innerHTML = content;
                mainContent.querySelector('.page').classList.add('active');
            }
        };

        // --- INITIALIZATION ---
        function init() {
            document.body.addEventListener('click', (e) => {
                const navLink = e.target.closest('.nav-link');
                if (navLink) {
                    e.preventDefault();
                    window.navigateTo(navLink.dataset.page, navLink.dataset.productid);
                }
            });
            navigateTo('home');
        }

        init();
    </script>

    <script type="module" src="/dist/assets/index.js"></script> </body>
</html>
